<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <section class="container">
    <h1>Worker Utility Function</h1>
    <p>Akerlof and Kranton</p>
    <h2>Formal Definition</h2>
    <p>The utility function given by Akerlof and Kranton represents the effect effort put in by the worker, his or her income, their identity and their deviation from the group ideal.</p>
    <p>This function if given by
    <p>U(y, e;c) =ln(y) -  e + Ic - tc|e*(c) - e|</p>
    <p>where, U is the worker's utility,<p>
      <p> y is her income</p>
      <p> Ic is the identity utility from being in category c</p>
      <p> tc is the disutility resulting from deviating from the ideal effort level for category c or e*(c)</p>
   <p>(Akerlof et al., 2005)</p>
   <h2>Sounds Complex... But wait!</h2>
    <p>We will go step by step and try to learn the concept behind the utility equation in simple terms.</p>
  </section>

  <!-- Utility -->
  <section class="container">
    <h2>Step 1: Utility and Bob</h2>
    <div class="row">
      <div class="col-md-6">
        <h3>Utility</h3>
        <p>According to economists, utility represents the satisfaction experienced by consumer of a good (Wikipedia). For our purposes, we will consider utility to be the feel-good factor the blue fellow you'll meet throughout this page has about his job. Let's call him Bob.</p>
        <h3>A little about Bob</h3>
        <p>Bob works at the Chocolate Factory with his friends. As you'll see, Bob is extremely emotional. Try changing the utility and see how Bob reacts.</p>
      </div>
      <div class="col-md-6">
        <div id="basic-utility">
        <!--  Draw Happy Chernoff face here -->
        </div>
        <div>
          <span>Less Utility</span><input type="range" id="section1Control" value="100" onchange="changeSmile('basic-utility',this.value)"><span>More Utility</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Effort v/s salary -->
  <section class="container">
    <h2>Utility - Effort - Salary</h2>
    <div class="row">
      <div class="col-md-6">

        <p></p>
      </div>
      <div class="col-md-6">
        <div id="step2">
        </div>
        <!-- TODO: Draw Graph Effort v/s salary here -->
      </div>
    </div>
  </section>

  <!-- Identity -->
  <section class="container">
    <h2>Utility - Identity</h2>
    <div class="row">
      <div class="col-md-6">
        <p></p>
      </div>
      <div class="col-md-6">
        <div id="step3">
        </div>

        <div>
          <span>Insider</span><input type="range" id="section2Control" value="50" onchange="changeIdentity('step3',this.value)"><span>Outsider</span>
        </div>
        <!-- TODO: Draw Graph Effort v/s salary with Identity here -->
      </div>
    </div>
  </section>

  <!-- Deviation from group ideal -->
  <section class="container">
    <h2>Utility - Deviation from Ideal</h2>
    <div class="row">
      <div class="col-md-6">
        <p></p>
      </div>
      <div class="col-md-6">
        <div id="step4">
        </div>

        <div>
          <span>Insider</span><input type="range" id="section4Idenity" value="50" onchange="changeIdentity('step4',this.value)"><span>Outsider</span>
        </div>
        <div>
          <span>Less effort</span><input type="range" id="section4Ideal" value="50" onchange="changeIdeal('step4',this.value)"><span>More Effort</span>
        </div>
        <!-- TODO: Draw Graph Effort v/s salary with Ideal here -->
      </div>
    </div>
  </section>

  <!-- Playground -->
  <section class="container">
    <h2>Playground</h2>
    <div class="row">
      <div class="col-md-6">
        <div id="step5">
        </div>

        <div>
          <span>Insider</span><input type="range" id="section5Idenity" value="50" onchange="changeIdentity('step5',this.value, 'record')"><span>Outsider</span>
        </div>
        <div>
          <span>Less effort</span><input type="range" id="section5Ideal" value="50" onchange="changeIdeal('step5',this.value, 'record')"><span>More Effort</span>
        </div>
        <!-- TODO: Draw try it -->
      </div>
      <div class="col-md-6">
        <div id="record">
        </div>
        <!-- TODO: Draw trials -->
      </div>
    </div>
  </section>
  <footer class="container">
    <h2>Reference</h2>
    <p>Akerlof, G. A., &amp; Kranton, R. E. (n.d.). Identity and the Economics of Organizations. Journal of Economic Perspective, 19, 9-32. Retrieved from http://public.econ.duke.edu/~rek8/identityandtheeconomicsoforganizations.pdf</p>
  </footer>

<script src="https://d3js.org/d3.v3.min.js"></script>
<!-- <script type="text/javascript" src="http://www.larsko.org/v/hpi/chernoff.js"></script> -->
<script type="text/javascript" src="chernoff.js"></script>
<script type="text/javascript" src="graph.js"></script>
<script type="text/javascript" src="myProj.js"></script>
<script>
  // mapSliderToChernoff('basic-utility',document.getElementById('section1Control'));

  //Step 1
  createFace("basic-utility", 200, 200);

  //Step 2
  var step2Graph = drawGraph("step2", 200, 200);
  var step2Chernoff = createFace("step2", 200, 200);
  step2Graph = drawIdentity(step2Graph, Math.PI/4);
  connectGraph2Output(step2Graph, step2Chernoff, null);

  //Step 3
  var step3Graph = drawGraph("step3", 200, 200);
  var step3Chernoff = createFace("step3", 200, 200);
  step3Graph = drawIdentity(step3Graph, Math.PI/4);
  connectGraph2Output(step3Graph, step3Chernoff, null);

  //Step 4
  var step4Graph = drawGraph("step4", 200, 200);
  var step4Chernoff = createFace("step4", 200, 200);
  step4Graph = drawIdentity(step4Graph, Math.PI/4);
  step4Graph = drawIdeal(step4Graph, 50);
  connectGraph2Output(step4Graph, step4Chernoff, null);

  //Step 5
  var step5Graph = drawGraph("step5", 200, 200);
  var step5Chernoff = createFace("step5", 200, 200);
  step5Graph = drawIdentity(step5Graph, Math.PI/4);
  step5Graph = drawIdeal(step5Graph, 50);

  //Record
  var recordGraph = drawGraph("record", 200, 200);
  connectGraph2Output(step5Graph, step5Chernoff, recordGraph);


</script>
</body>
</html>
